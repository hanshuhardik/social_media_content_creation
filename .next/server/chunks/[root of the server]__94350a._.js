module.exports = {

"[externals]/next/dist/compiled/next-server/app-route.runtime.dev.js [external] (next/dist/compiled/next-server/app-route.runtime.dev.js, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/compiled/next-server/app-route.runtime.dev.js", () => require("next/dist/compiled/next-server/app-route.runtime.dev.js"));

module.exports = mod;
}}),
"[externals]/next/dist/compiled/@opentelemetry/api [external] (next/dist/compiled/@opentelemetry/api, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/compiled/@opentelemetry/api", () => require("next/dist/compiled/@opentelemetry/api"));

module.exports = mod;
}}),
"[externals]/next/dist/compiled/next-server/app-page.runtime.dev.js [external] (next/dist/compiled/next-server/app-page.runtime.dev.js, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/compiled/next-server/app-page.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page.runtime.dev.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-unit-async-storage.external.js [external] (next/dist/server/app-render/work-unit-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/server/app-render/work-unit-async-storage.external.js", () => require("next/dist/server/app-render/work-unit-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/work-async-storage.external.js [external] (next/dist/server/app-render/work-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/server/app-render/work-async-storage.external.js", () => require("next/dist/server/app-render/work-async-storage.external.js"));

module.exports = mod;
}}),
"[externals]/next/dist/server/app-render/after-task-async-storage.external.js [external] (next/dist/server/app-render/after-task-async-storage.external.js, cjs)": (function(__turbopack_context__) {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, m: module, e: exports, t: __turbopack_require_real__ } = __turbopack_context__;
{
const mod = __turbopack_external_require__("next/dist/server/app-render/after-task-async-storage.external.js", () => require("next/dist/server/app-render/after-task-async-storage.external.js"));

module.exports = mod;
}}),
"[project]/src/app/api/generate-post/route.ts [app-route] (ecmascript)": ((__turbopack_context__) => {
"use strict";

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, x: __turbopack_external_require__, y: __turbopack_external_import__, z: __turbopack_require_stub__ } = __turbopack_context__;
{
// import { NextResponse } from 'next/server';
// import OpenAI from 'openai';
// const openai = new OpenAI({
//   apiKey: process.env.OPENAI_API_KEY,
// });
// const getPromptForPlatform = (
//   platform: string, 
//   description: string, 
//   makeThread: boolean, 
//   wordLimit: number,
//   tone: string,
//   includeHashtags: boolean,
//   includeEmoji: boolean
// ) => {
//   const basePrompt = `Write a ${platform} post about: ${description}
// Key guidelines:
// - Write in a ${tone.toLowerCase()} tone
// - Aim for approximately ${wordLimit} words
// - Write in a natural, conversational style
// - Use simple, everyday language
// ${includeEmoji ? '- Include relevant emojis where appropriate' : '- Do not use any emojis'}
// ${includeHashtags ? '- Add relevant hashtags at the end' : '- Do not include any hashtags'}`;
//   switch (platform) {
//     case 'instagram':
//       return `${basePrompt}
// Additional notes:
// - Focus on visual storytelling
// - Keep the tone engaging and authentic
// ${includeHashtags ? '- Add 3-5 relevant hashtags at the end' : ''}`;
//     case 'facebook':
//       return `${basePrompt}
// Additional notes:
// - Write in a personal, engaging style
// - Share insights or experiences naturally
// - Add a subtle call-to-action if relevant
// ${includeHashtags ? '- Add 1-2 relevant hashtags if needed' : ''}`;
//     case 'twitter':
//       return makeThread 
//         ? `${basePrompt}
// Additional notes:
// - Break this into 3-5 connected tweets
// - Each tweet should flow naturally into the next
// - Keep each tweet under 280 characters
// - Number each tweet
// - Focus on telling a coherent story across the thread`
//         : `${basePrompt}
// Additional notes:
// - Keep it under 280 characters
// - Make it engaging and shareable
// ${includeHashtags ? '- Add 1-2 relevant hashtags' : ''}`;
//     case 'linkedin':
//       return `${basePrompt}
// Additional notes:
// - Maintain a professional tone
// - Include industry insights if relevant
// - Focus on value and expertise
// - Keep paragraphs short and scannable
// ${includeHashtags ? '- Add 2-3 relevant professional hashtags' : ''}`;
//     default:
//       return basePrompt;
//   }
// };
// export async function POST(req: Request) {
//   try {
//     const { 
//       platform, 
//       description, 
//       makeThread, 
//       wordLimit,
//       tone,
//       includeHashtags,
//       includeEmoji,
//     } = await req.json();
//     const prompt = getPromptForPlatform(
//       platform, 
//       description, 
//       makeThread, 
//       wordLimit,
//       tone,
//       includeHashtags,
//       includeEmoji
//     );
//     const systemPrompt = `You are a skilled social media writer who creates ${tone.toLowerCase()} content that resonates with the audience. Your writing should:
// - Maintain a consistent ${tone.toLowerCase()} tone throughout
// - Use natural, conversational language
// - Be concise and impactful
// ${includeEmoji ? '- Use emojis thoughtfully and sparingly' : '- Avoid using emojis'}
// ${includeHashtags ? '- Include relevant hashtags that add value' : '- Exclude hashtags'}
// - Express emotions and enthusiasm through well-crafted words
// - Focus on creating genuine connections with the audience
// ${platform === 'linkedin' 
//   ? 'For LinkedIn, maintain professionalism while being approachable and authentic.' 
//   : platform === 'twitter' && makeThread 
//     ? 'For Twitter threads, maintain a natural flow between tweets while keeping each one engaging.' 
//     : ''}`;
//     const completion = await openai.chat.completions.create({
//       messages: [
//         { 
//           role: "system", 
//           content: systemPrompt
//         },
//         {
//           role: "user",
//           content: prompt
//         }
//       ],
//       model: "gpt-3.5-turbo",
//       temperature: 0.7,
//     });
//     return NextResponse.json({ content: completion.choices[0].message.content });
//   } catch (error) {
//     console.error('Error:', error);
//     return NextResponse.json(
//       { error: 'Failed to generate content' },
//       { status: 500 }
//     );
//   }
// }
// gemini
// import { NextResponse } from 'next/server';
// import { GoogleGenerativeAI } from '@google/generative-ai';
// // Initialize Gemini with your API key
// const genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY as string);
// const getPromptForPlatform = (
//   platform: string,
//   description: string,
//   makeThread: boolean,
//   wordLimit: number,
//   tone: string,
//   includeHashtags: boolean,
//   includeEmoji: boolean
// ) => {
//   const basePrompt = `Write a ${platform} post about: ${description}
// Key guidelines:
// - Write in a ${tone.toLowerCase()} tone
// - Aim for approximately ${wordLimit} words
// - Write in a natural, conversational style
// - Use simple, everyday language
// ${includeEmoji ? '- Include relevant emojis where appropriate' : '- Do not use any emojis'}
// ${includeHashtags ? '- Add relevant hashtags at the end' : '- Do not include any hashtags'}`;
//   switch (platform) {
//     case 'instagram':
//       return `${basePrompt}
// Additional notes:
// - Focus on visual storytelling
// - Keep the tone engaging and authentic
// ${includeHashtags ? '- Add 3-5 relevant hashtags at the end' : ''}`;
//     case 'facebook':
//       return `${basePrompt}
// Additional notes:
// - Write in a personal, engaging style
// - Share insights or experiences naturally
// - Add a subtle call-to-action if relevant
// ${includeHashtags ? '- Add 1-2 relevant hashtags if needed' : ''}`;
//     case 'twitter':
//       return makeThread
//         ? `${basePrompt}
// Additional notes:
// - Break this into 3-5 connected tweets
// - Each tweet should flow naturally into the next
// - Keep each tweet under 280 characters
// - Number each tweet
// - Focus on telling a coherent story across the thread`
//         : `${basePrompt}
// Additional notes:
// - Keep it under 280 characters
// - Make it engaging and shareable
// ${includeHashtags ? '- Add 1-2 relevant hashtags' : ''}`;
//     case 'linkedin':
//       return `${basePrompt}
// Additional notes:
// - Maintain a professional tone
// - Include industry insights if relevant
// - Focus on value and expertise
// - Keep paragraphs short and scannable
// ${includeHashtags ? '- Add 2-3 relevant professional hashtags' : ''}`;
//     default:
//       return basePrompt;
//   }
// };
// export async function POST(req: Request) {
//   try {
//     const {
//       platform,
//       description,
//       makeThread,
//       wordLimit,
//       tone,
//       includeHashtags,
//       includeEmoji,
//     } = await req.json();
//     const prompt = getPromptForPlatform(
//       platform,
//       description,
//       makeThread,
//       wordLimit,
//       tone,
//       includeHashtags,
//       includeEmoji
//     );
//     const systemPrompt = `You are a skilled social media writer who creates ${tone.toLowerCase()} content that resonates with the audience. Your writing should:
// - Maintain a consistent ${tone.toLowerCase()} tone throughout
// - Use natural, conversational language
// - Be concise and impactful
// ${includeEmoji ? '- Use emojis thoughtfully and sparingly' : '- Avoid using emojis'}
// ${includeHashtags ? '- Include relevant hashtags that add value' : '- Exclude hashtags'}
// - Express emotions and enthusiasm through well-crafted words
// - Focus on creating genuine connections with the audience
// ${platform === 'linkedin'
//         ? 'For LinkedIn, maintain professionalism while being approachable and authentic.'
//         : platform === 'twitter' && makeThread
//           ? 'For Twitter threads, maintain a natural flow between tweets while keeping each one engaging.'
//           : ''}`;
//     // ✅ Correct model for v1 API
//     // const model = genAI.getGenerativeModel({
//     //   model: 'gemini-1.5-flash-latest',
//     // });
// const model = genAI.getGenerativeModel({ model: "gemini-2.0-flash" });
//     const fullPrompt = `${systemPrompt}\n\n${prompt}`;
//     // ✅ Correct call method for SDK v0.24.1
//     const result = await model.generateContent({
//       contents: [{ role: 'user', parts: [{ text: fullPrompt }] }],
//     });
//     const response = result.response.text();
//     return NextResponse.json({ content: response });
//   } catch (error) {
//     console.error('Error:', error);
//     return NextResponse.json(
//       { error: 'Failed to generate content' },
//       { status: 500 }
//     );
//   }
// }
//gemini updated for the image 
__turbopack_esm__({
    "POST": (()=>POST)
});
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/next/server.js [app-route] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$google$2f$generative$2d$ai$2f$dist$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__ = __turbopack_import__("[project]/node_modules/@google/generative-ai/dist/index.mjs [app-route] (ecmascript)");
;
;
const genAI = new __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$google$2f$generative$2d$ai$2f$dist$2f$index$2e$mjs__$5b$app$2d$route$5d$__$28$ecmascript$29$__["GoogleGenerativeAI"](process.env.GEMINI_API_KEY);
const getPromptForPlatform = (platform, description, makeThread, wordLimit, tone, includeHashtags, includeEmoji, numVariations)=>{
    const basePrompt = description ? `Write ${numVariations} ${tone.toLowerCase()} ${platform} post variations (each under ${wordLimit} words) about: "${description}".` : `Generate ${numVariations} ${tone.toLowerCase()} ${platform} post variations (each under ${wordLimit} words) based on the uploaded image.`;
    const notes = {
        instagram: `
- Focus on visual storytelling
- Keep tone engaging and authentic
${includeHashtags ? "- Add 3-5 relevant hashtags" : ""}
${includeEmoji ? "- Use emojis naturally" : ""}`,
        facebook: `
- Use a friendly, conversational tone
${includeHashtags ? "- Add 1-2 relevant hashtags" : ""}
${includeEmoji ? "- Add emojis where they fit" : ""}`,
        twitter: makeThread ? `
- Split into 3–5 connected tweets under 280 chars each
- Number them (1/n, 2/n)` : `
- Keep under 280 characters
${includeHashtags ? "- Add 1-2 hashtags" : ""}
${includeEmoji ? "- Add emojis where they make sense" : ""}`,
        linkedin: `
- Professional yet friendly tone
- Include insights or takeaways
${includeHashtags ? "- Add 2-3 professional hashtags" : ""}`
    };
    return `${basePrompt}\n\nAdditional notes:${notes[platform] ?? ""}`;
};
async function POST(req) {
    try {
        const { platform, description, makeThread, wordLimit, tone, includeHashtags, includeEmoji, imageBase64, numVariations } = await req.json();
        const model = genAI.getGenerativeModel({
            model: "gemini-2.0-flash"
        });
        const prompt = getPromptForPlatform(platform, description, makeThread, wordLimit, tone, includeHashtags, includeEmoji, numVariations);
        const systemPrompt = `You are a skilled social media content creator.
Your task: return ${numVariations} short, ready-to-post ${platform} posts.
Each variation must:
- Match the ${tone.toLowerCase()} tone
- Be natural, concise, and engaging
${includeEmoji ? "- Include emojis where suitable" : "- No emojis"}
${includeHashtags ? "- Include relevant hashtags" : "- No hashtags"}
IMPORTANT: 
- Do NOT include titles like "Variation 1" or "Post 1"
- Do NOT include markdown, numbering, or formatting.
- Separate each post with "---" only.`;
        const contents = [
            {
                role: "user",
                parts: [
                    {
                        text: `${systemPrompt}\n\n${prompt}`
                    }
                ]
            }
        ];
        if (imageBase64) {
            const base64Data = imageBase64.split(",")[1] || imageBase64;
            contents[0].parts.push({
                inlineData: {
                    data: base64Data,
                    mimeType: "image/jpeg"
                }
            });
        }
        const result = await model.generateContent({
            contents
        });
        const response = result.response.text();
        // 🧹 Clean the text output
        const cleanText = response.replace(/\*\*Variation\s*\d+\*\*:?/gi, "").replace(/Variation\s*\d+:?/gi, "").replace(/\*\*/g, "").replace(/^[-–—\s]+/gm, "").replace(/#+\s*/g, "").trim();
        // Split into individual posts
        const variations = cleanText.split(/---+/).map((v)=>v.trim()).filter((v)=>v.length > 0);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            variations
        });
    } catch (error) {
        console.error("❌ Error generating content:", error);
        return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$server$2e$js__$5b$app$2d$route$5d$__$28$ecmascript$29$__["NextResponse"].json({
            error: "Failed to generate content"
        }, {
            status: 500
        });
    }
}
}}),
"[project]/ (server-utils)": ((__turbopack_context__) => {

var { r: __turbopack_require__, f: __turbopack_module_context__, i: __turbopack_import__, s: __turbopack_esm__, v: __turbopack_export_value__, n: __turbopack_export_namespace__, c: __turbopack_cache__, M: __turbopack_modules__, l: __turbopack_load__, j: __turbopack_dynamic__, P: __turbopack_resolve_absolute_path__, U: __turbopack_relative_url__, R: __turbopack_resolve_module_id_path__, b: __turbopack_worker_blob_url__, g: global, __dirname, t: __turbopack_require_real__ } = __turbopack_context__;
{
}}),

};

//# sourceMappingURL=%5Broot%20of%20the%20server%5D__94350a._.js.map